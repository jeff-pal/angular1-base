<!DOCTYPE html>
<html>

<head>
  <meta name="description" content="Load and remove GeoJSON" />
  <title>Jeff's Maps Layers</title>
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
  <meta charset="utf-8">
  <style>
    html,
    body,
    #map-canvas {
      height: 100%;
      margin: 0px;
      padding: 0px
    }
  </style>

  <!-- <script src="https://code.jquery.com/jquery-1.11.0.min.js"
    integrity="sha256-spTpc4lvj4dOkKjrGokIrHkJgNA0xMS98Pw9N7ir9oI=" crossorigin="anonymous"></script> -->
  <script
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBCFuyBO4cLhuXuP2Lk0CfB7Av8IB8R6qk&libraries=places"></script>
  <script>
    var map;
    var data = {
      "type": "FeatureCollection",
      "name": "Camada sem título",
      "crs": { "type": "name", "properties": { "name": "urn:ogc:def:crs:OGC:1.3:CRS84" } },
      "features": [
        { "type": "Feature", "properties": { "Name": "j", "description": null }, "geometry": { "type": "Polygon", "coordinates": [[[-48.3818879, -27.5482551], [-48.3812012, -27.582038], [-48.3818879, -27.5878197], [-48.3849778, -27.5911668], [-48.3901276, -27.5926881], [-48.3976807, -27.5911668], [-48.3993973, -27.5869068], [-48.3996548, -27.5806686], [-48.4083237, -27.5802122], [-48.4079804, -27.5869068], [-48.4055771, -27.5932967], [-48.4018006, -27.5966436], [-48.3945908, -27.5990777], [-48.3856644, -27.5996862], [-48.3787979, -27.5972522], [-48.3743348, -27.593601], [-48.3733048, -27.5869068], [-48.3736481, -27.5476463], [-48.3818879, -27.5482551]]] } },
        { "type": "Feature", "properties": { "Name": "Polígono 4", "description": null }, "geometry": { "type": "Polygon", "coordinates": [[[-48.3552678, -27.5718097], [-48.3339804, -27.5722662], [-48.3350104, -27.5692226], [-48.3374138, -27.5669399], [-48.3423923, -27.5651137], [-48.3485725, -27.5654181], [-48.353036, -27.5664834], [-48.3554394, -27.5683096], [-48.3552678, -27.5718097]]] } },
        { "type": "Feature", "properties": { "Name": "Polígono 2", "description": null }, "geometry": { "type": "Polygon", "coordinates": [[[-48.32745, -27.576381], [-48.3282225, -27.5681638], [-48.3295959, -27.5645116], [-48.3330292, -27.5611635], [-48.3392092, -27.5587285], [-48.3460759, -27.5581197], [-48.3539726, -27.559946], [-48.3570626, -27.5614679], [-48.3618693, -27.5660334], [-48.3639293, -27.5712073], [-48.3639293, -27.5769897], [-48.3635859, -27.5845977], [-48.3604959, -27.5906836], [-48.3546593, -27.5952479], [-48.3495092, -27.5982906], [-48.3440159, -27.6004205], [-48.3347458, -27.6004206], [-48.3282225, -27.5979865], [-48.3247892, -27.5937265], [-48.3251325, -27.5882493], [-48.3258191, -27.5827718], [-48.3364625, -27.5826197], [-48.3354326, -27.5882493], [-48.3378358, -27.5934222], [-48.3450459, -27.5931179], [-48.3529426, -27.5876407], [-48.3558609, -27.5839891], [-48.3568909, -27.5767617], [-48.32745, -27.576381]]] } },
        { "type": "Feature", "properties": { "Name": "f", "description": null }, "geometry": { "type": "Polygon", "coordinates": [[[-48.3195935, -27.5558682], [-48.3175336, -27.5990811], [-48.3086072, -27.5986247], [-48.3108388, -27.5764116], [-48.2995092, -27.5759552], [-48.3003675, -27.5703251], [-48.3113537, -27.5707816], [-48.3122121, -27.5607381], [-48.2938444, -27.5596728], [-48.294531, -27.5514547], [-48.3195935, -27.5558682]]] } },
        { "type": "Feature", "properties": { "Name": "f2", "description": null }, "geometry": { "type": "Polygon", "coordinates": [[[-48.2862912, -27.6001459], [-48.2783948, -27.5998417], [-48.2807981, -27.5764116], [-48.2691251, -27.5761073], [-48.2698117, -27.5698685], [-48.2816564, -27.5707815], [-48.2825147, -27.5584553], [-48.2648336, -27.55739], [-48.2660352, -27.5491716], [-48.2895528, -27.5520633], [-48.2862912, -27.6001459]]] } }
      ]
    }
    function initialize() {
      // Create a simple map.
      map = new google.maps.Map(document.getElementById('map-canvas'), {
        zoom: 11.5,
        center: { lat: -27.6727095, lng: -48.3980576 }
      });

      var features = map.data.addGeoJson(data);
      google.maps.event.addDomListener(document.getElementById('removeBtn'), 'click', function () {
        var buttonText = document.getElementById('removeBtn').firstChild;
        if(buttonText.data == 'Remove Layer') {
          for (var i = 0; i < features.length; i++)
            map.data.remove(features[i]);
        }
        else {
          features = map.data.addGeoJson(data);
        }
        buttonText.data == 'Remove Layer' ? buttonText.data='Add Layer' : buttonText.data='Remove Layer';
      });

    }

    google.maps.event.addDomListener(window, 'load', initialize);
  </script>
</head>

<body>
  <button id="removeBtn">Remove Layer</button>
  <div id="map-canvas"></div>
</body>

</html>